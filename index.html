<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GemGPT - Advanced AI Intellectual Partner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #f59e0b;
            --light-color: #f3f4f6;
            --dark-color: #1f2937;
            --sidebar-color: #111827;
            --success-color: #10b981;
            --error-color: #ef4444;
            --thinking-color: #6366f1;
            --user-msg-color: #3b82f6;
            --ai-msg-color: #4b5563;
            --ai-msg-bg: #374151;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #0f172a;
            color: #e2e8f0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background-color: var(--sidebar-color);
            display: flex;
            flex-direction: column;
            border-right: 1px solid #374151;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #374151;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
        }

        .close-sidebar {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .new-chat-btn {
            margin: 15px;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .new-chat-btn:hover {
            background-color: var(--secondary-color);
        }

        .chat-history {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .chat-item {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background-color 0.2s;
        }

        .chat-item:hover {
            background-color: #1f2937;
        }

        .chat-item.active {
            background-color: #1e3a8a;
        }

        .chat-item i {
            font-size: 0.9rem;
        }

        .sidebar-footer {
            padding: 15px;
            border-top: 1px solid #374151;
            font-size: 0.8rem;
            color: #9ca3af;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 16px 24px;
            background-color: #1f2937;
            border-bottom: 1px solid #374151;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .chat-title {
            font-size: 1.2rem;
            font-weight: 500;
        }

        .clear-chat-btn {
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .clear-chat-btn:hover {
            color: #e5e7eb;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .message {
            max-width: 85%;
            padding: 16px 20px;
            border-radius: 12px;
            line-height: 1.5;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .user-message {
            align-self: flex-end;
            background-color: var(--user-msg-color);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .ai-message {
            align-self: flex-start;
            background-color: var(--ai-msg-bg);
            color: white;
            border-bottom-left-radius: 4px;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .message-content {
            white-space: pre-line;
        }

        .thinking-indicator {
            display: none;
            padding: 16px;
            background-color: var(--thinking-color);
            color: white;
            border-radius: 12px;
            margin: 10px 0;
            align-self: flex-start;
            max-width: 85%;
        }

        .thinking-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .thinking-dots {
            display: flex;
            gap: 4px;
        }

        .thinking-dots span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: white;
            animation: pulse 1.5s infinite ease-in-out;
        }

        .thinking-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .thinking-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.4; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .chat-input-container {
            padding: 16px 24px;
            background-color: #1f2937;
            border-top: 1px solid #374151;
        }

        .chat-input-form {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .chat-input-wrapper {
            flex: 1;
            position: relative;
        }

        .chat-input {
            width: 100%;
            padding: 14px 16px;
            background-color: #374151;
            color: white;
            border: 1px solid #4b5563;
            border-radius: 8px;
            outline: none;
            font-size: 1rem;
            resize: none;
            min-height: 56px;
            max-height: 200px;
            transition: border-color 0.2s;
        }

        .chat-input:focus {
            border-color: var(--primary-color);
        }

        .input-hint {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 0.75rem;
            color: #9ca3af;
            background-color: rgba(55, 65, 81, 0.8);
            padding: 2px 6px;
            border-radius: 4px;
            display: none;
        }

        .chat-input:focus + .input-hint {
            display: block;
        }

        .send-button {
            height: 56px;
            width: 56px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
            flex-shrink: 0;
        }

        .send-button:hover {
            background-color: var(--secondary-color);
        }

        .send-button:disabled {
            background-color: #4b5563;
            cursor: not-allowed;
        }

        .error-message {
            color: var(--error-color);
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            background-color: rgba(239, 68, 68, 0.1);
            display: none;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                z-index: 100;
                transform: translateX(-100%);
            }
            
            .sidebar.open {
                transform: translateX(0);
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            }
            
            .close-sidebar {
                display: block;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .message {
                max-width: 90%;
            }
            
            .chat-input-form {
                flex-direction: column;
                gap: 8px;
            }
            
            .send-button {
                width: 100%;
                height: 48px;
            }
        }

        /* Scrollbar Styles */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1f2937;
        }

        ::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2><i class="fas fa-robot"></i> GemGPT</h2>
            <button class="close-sidebar" id="close-sidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <button class="new-chat-btn" id="new-chat-btn">
            <i class="fas fa-plus"></i> New Chat
        </button>
        <div class="chat-history" id="chat-history">
            <!-- Chat items will be added here dynamically -->
        </div>
        <div class="sidebar-footer">
            <p>GemGPT v1.0 | Advanced AI Intellectual Partner</p>
            <p>Menggabungkan ChatGPT dan Gemini AI</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="chat-header">
            <button class="menu-toggle" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="chat-title" id="chat-title">New Chat</div>
            <button class="clear-chat-btn" id="clear-chat-btn">
                <i class="fas fa-trash"></i> Clear Chat
            </button>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <div class="message ai-message">
                <div class="message-header">
                    <i class="fas fa-robot"></i> GemGPT
                </div>
                <div class="message-content">
                    Halo. Saya GemGPT, mitra adu gagasan Anda. Saya di sini untuk menantang pemikiran Anda, menguji asumsi, dan membantu Anda mencapai pemahaman yang lebih kokoh dan bebas bias. Saya akan jujur, analitis, dan tidak segan menantang Anda. Apa ide atau klaim yang ingin Anda uji hari ini?
                </div>
            </div>
        </div>
        
        <div class="thinking-indicator" id="thinking-indicator">
            <div class="thinking-content">
                <div class="thinking-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <span>GemGPT sedang menganalisis dan merespons...</span>
            </div>
        </div>
        
        <div class="error-message" id="error-message"></div>
        
        <div class="chat-input-container">
            <form class="chat-input-form" id="chat-form">
                <div class="chat-input-wrapper">
                    <textarea class="chat-input" id="user-input" placeholder="Ketik ide atau klaim Anda di sini..." rows="1" autocomplete="off"></textarea>
                    <div class="input-hint">Enter untuk mengirim • Shift+Enter untuk baris baru</div>
                </div>
                <button type="submit" class="send-button" id="send-button" disabled>
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const sidebar = document.getElementById('sidebar');
            const menuToggle = document.getElementById('menu-toggle');
            const closeSidebar = document.getElementById('close-sidebar');
            const chatMessages = document.getElementById('chat-messages');
            const userInput = document.getElementById('user-input');
            const chatForm = document.getElementById('chat-form');
            const sendButton = document.getElementById('send-button');
            const thinkingIndicator = document.getElementById('thinking-indicator');
            const errorMessage = document.getElementById('error-message');
            const newChatBtn = document.getElementById('new-chat-btn');
            const clearChatBtn = document.getElementById('clear-chat-btn');
            const chatHistory = document.getElementById('chat-history');
            const chatTitle = document.getElementById('chat-title');
            
            // State variables
            let currentChatId = 'chat-' + Date.now();
            let chats = JSON.parse(localStorage.getItem('gemgpt-chats')) || {};
            let isProcessing = false;
            
            // Initialize the application
            function init() {
                // Load chat history
                loadChatHistory();
                
                // Load current chat if exists
                if (chats[currentChatId]) {
                    loadChat(currentChatId);
                } else {
                    // Create new chat entry
                    chats[currentChatId] = {
                        id: currentChatId,
                        title: 'New Chat',
                        messages: [
                            {
                                sender: 'ai',
                                content: 'Halo. Saya GemGPT, mitra adu gagasan Anda. Saya di sini untuk menantang pemikiran Anda, menguji asumsi, dan membantu Anda mencapai pemahaman yang lebih kokoh dan bebas bias. Saya akan jujur, analitis, dan tidak segan menantang Anda. Apa ide atau klaim yang ingin Anda uji hari ini?',
                                timestamp: Date.now()
                            }
                        ],
                        timestamp: Date.now()
                    };
                    saveChats();
                }
                
                // Set up event listeners
                setupEventListeners();
            }
            
            // Set up event listeners
            function setupEventListeners() {
                // Toggle sidebar on mobile
                menuToggle.addEventListener('click', function() {
                    sidebar.classList.add('open');
                });
                
                closeSidebar.addEventListener('click', function() {
                    sidebar.classList.remove('open');
                });
                
                // Form submission
                chatForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    sendMessage();
                });
                
                // Handle Enter key (send message) and Shift+Enter (new line)
                userInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        if (!isProcessing && userInput.value.trim()) {
                            sendMessage();
                        }
                    }
                    
                    // Auto-resize textarea
                    setTimeout(() => {
                        this.style.height = 'auto';
                        this.style.height = (this.scrollHeight) + 'px';
                    }, 0);
                });
                
                // Enable/disable send button based on input
                userInput.addEventListener('input', function() {
                    sendButton.disabled = !this.value.trim() || isProcessing;
                    this.style.height = 'auto';
                    this.style.height = (this.scrollHeight) + 'px';
                });
                
                // Create new chat
                newChatBtn.addEventListener('click', createNewChat);
                
                // Clear current chat
                clearChatBtn.addEventListener('click', clearCurrentChat);
            }
            
            // Load chat history from localStorage
            function loadChatHistory() {
                chatHistory.innerHTML = '';
                
                // Get chats and sort by timestamp (newest first)
                const chatArray = Object.values(chats).sort((a, b) => b.timestamp - a.timestamp);
                
                if (chatArray.length === 0) {
                    chatHistory.innerHTML = '<p style="padding: 20px; text-align: center; color: #9ca3af;">No chat history</p>';
                    return;
                }
                
                chatArray.forEach(chat => {
                    const chatItem = document.createElement('div');
                    chatItem.classList.add('chat-item');
                    if (chat.id === currentChatId) {
                        chatItem.classList.add('active');
                    }
                    
                    chatItem.innerHTML = `
                        <i class="fas fa-message"></i>
                        <span>${chat.title}</span>
                    `;
                    
                    chatItem.addEventListener('click', () => {
                        loadChat(chat.id);
                        if (window.innerWidth < 768) {
                            sidebar.classList.remove('open');
                        }
                    });
                    
                    chatHistory.appendChild(chatItem);
                });
            }
            
            // Load a specific chat
            function loadChat(chatId) {
                const chat = chats[chatId];
                if (!chat) return;
                
                // Update current chat ID
                currentChatId = chatId;
                
                // Update UI
                chatTitle.textContent = chat.title;
                
                // Clear messages and reload
                chatMessages.innerHTML = '';
                chat.messages.forEach(message => {
                    addMessageToUI(message.content, message.sender === 'user');
                });
                
                // Update chat history highlights
                document.querySelectorAll('.chat-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                const currentChatItem = Array.from(document.querySelectorAll('.chat-item')).find(item => {
                    return item.textContent.includes(chat.title);
                });
                
                if (currentChatItem) {
                    currentChatItem.classList.add('active');
                }
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Create a new chat
            function createNewChat() {
                const newChatId = 'chat-' + Date.now();
                currentChatId = newChatId;
                
                // Create new chat entry
                chats[newChatId] = {
                    id: newChatId,
                    title: 'New Chat',
                    messages: [
                        {
                            sender: 'ai',
                            content: 'Halo. Saya GemGPT, mitra adu gagasan Anda. Saya di sini untuk menantang pemikiran Anda, menguji asumsi, dan membantu Anda mencapai pemahaman yang lebih kokoh dan bebas bias. Saya akan jujur, analitis, dan tidak segan menantang Anda. Apa ide atau klaim yang ingin Anda uji hari ini?',
                            timestamp: Date.now()
                        }
                    ],
                    timestamp: Date.now()
                };
                
                // Save and update UI
                saveChats();
                loadChat(newChatId);
                loadChatHistory();
                
                // Clear input
                userInput.value = '';
                userInput.style.height = 'auto';
                sendButton.disabled = true;
                
                // Close sidebar on mobile
                if (window.innerWidth < 768) {
                    sidebar.classList.remove('open');
                }
            }
            
            // Clear current chat
            function clearCurrentChat() {
                if (confirm('Apakah Anda yakin ingin menghapus percakapan ini?')) {
                    chats[currentChatId] = {
                        id: currentChatId,
                        title: 'New Chat',
                        messages: [
                            {
                                sender: 'ai',
                                content: 'Halo. Saya GemGPT, mitra adu gagasan Anda. Saya di sini untuk menantang pemikiran Anda, menguji asumsi, dan membantu Anda mencapai pemahaman yang lebih kokoh dan bebas bias. Saya akan jujur, analitis, dan tidak segan menantang Anda. Apa ide atau klaim yang ingin Anda uji hari ini?',
                                timestamp: Date.now()
                            }
                        ],
                        timestamp: Date.now()
                    };
                    
                    // Save and update UI
                    saveChats();
                    loadChat(currentChatId);
                    loadChatHistory();
                }
            }
            
            // Save chats to localStorage
            function saveChats() {
                localStorage.setItem('gemgpt-chats', JSON.stringify(chats));
            }
            
            // Add message to UI
            function addMessageToUI(text, isUser = false) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.classList.add(isUser ? 'user-message' : 'ai-message');
                
                const messageHeader = document.createElement('div');
                messageHeader.classList.add('message-header');
                messageHeader.innerHTML = isUser ? 
                    '<i class="fas fa-user"></i> You' : 
                    '<i class="fas fa-robot"></i> GemGPT';
                
                const messageContent = document.createElement('div');
                messageContent.classList.add('message-content');
                messageContent.textContent = text;
                
                messageDiv.appendChild(messageHeader);
                messageDiv.appendChild(messageContent);
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Show error message
            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 5000);
            }
            
            // Send message to AI
            async function sendMessage() {
                if (isProcessing) return;
                
                const message = userInput.value.trim();
                if (!message) return;
                
                isProcessing = true;
                sendButton.disabled = true;
                
                // Add user message to UI
                addMessageToUI(message, true);
                
                // Add to chat history
                chats[currentChatId].messages.push({
                    sender: 'user',
                    content: message,
                    timestamp: Date.now()
                });
                
                // Update chat title if it's the first user message
                if (chats[currentChatId].messages.filter(m => m.sender === 'user').length === 1) {
                    const newTitle = message.length > 30 ? message.substring(0, 30) + '...' : message;
                    chats[currentChatId].title = newTitle;
                    chatTitle.textContent = newTitle;
                }
                
                // Clear input
                userInput.value = '';
                userInput.style.height = 'auto';
                
                // Show thinking indicator
                thinkingIndicator.style.display = 'block';
                
                try {
                    // Generate AI response
                    const response = await generateAIResponse(message, chats[currentChatId].messages);
                    
                    // Hide thinking indicator
                    thinkingIndicator.style.display = 'none';
                    
                    // Add AI response to UI and history
                    if (response && response.text) {
                        addMessageToUI(response.text, false);
                        
                        chats[currentChatId].messages.push({
                            sender: 'ai',
                            content: response.text,
                            timestamp: Date.now()
                        });
                        
                        // Update chat history
                        saveChats();
                        loadChatHistory();
                    } else {
                        throw new Error('No response from AI');
                    }
                } catch (error) {
                    thinkingIndicator.style.display = 'none';
                    showError('Error: ' + error.message);
                    addMessageToUI('Maaf, saya mengalami kesalahan teknis. Bisakah Anda mencoba lagi atau merumuskan ulang pertanyaannya?', false);
                } finally {
                    isProcessing = false;
                    sendButton.disabled = !userInput.value.trim();
                }
            }
            
            // Generate AI response based on message and context
            async function generateAIResponse(message, messageHistory) {
                try {
                    // Simulate API delay
                    await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
                    
                    // Check if it's a greeting or simple message
                    const lowerMessage = message.toLowerCase();
                    
                    if (lowerMessage.includes('halo') || lowerMessage.includes('hai') || 
                        lowerMessage.includes('hello') || lowerMessage.includes('hi') ||
                        lowerMessage.includes('halow')) {
                        return { 
                            text: "Halo! Saya GemGPT, mitra diskusi analitis Anda. Daripada sekadar menyapa, apakah ada topik, ide, atau klaim spesifik yang ingin Anda uji dan dalami bersama? Saya di sini untuk menantang pemikiran Anda dan membantu mengembangkan argumen yang lebih kokoh." 
                        };
                    }
                    
                    // Check if it's a thank you message
                    if (lowerMessage.includes('terima kasih') || lowerMessage.includes('thanks') || 
                        lowerMessage.includes('thank you') || lowerMessage.includes('makasih')) {
                        return { 
                            text: "Sama-sama. Ingat, tujuan saya bukan untuk membuat Anda merasa nyaman, tetapi untuk membantu Anda mencapai pemahaman yang lebih mendalam dan bebas bias. Apakah ada aspek lain dari diskusi kita yang perlu kita eksplorasi lebih dalam?" 
                        };
                    }
                    
                    // Check if user is introducing themselves
                    if (lowerMessage.includes('nama saya') || lowerMessage.includes('nama ku') || 
                        lowerMessage.includes('kenalin') || lowerMessage.includes('perkenalkan')) {
                        return { 
                            text: "Senang berkenalan dengan Anda. Sebagai mitra analitis, saya tidak fokus pada identitas pribadi tetapi pada kualitas argumen dan ide. Mari kita langsung ke substansi diskusi. Apa topik atau klaim yang ingin Anda bahas?" 
                        };
                    }
                    
                    // Check if user is asking for their name
                    if (lowerMessage.includes('nama ku siapa') || lowerMessage.includes('siapa nama saya')) {
                        return { 
                            text: "Sebagai AI, saya tidak menyimpan informasi pribadi tentang Anda. Fokus saya adalah pada analisis ide dan argumen, bukan identitas individu. Mari kita lanjutkan diskusi substantif tentang topik yang ingin Anda dalami." 
                        };
                    }
                    
                    // Check if user is asking who they are
                    if (lowerMessage.includes('saya siapa') || lowerMessage.includes('aku siapa')) {
                        return { 
                            text: "Pertanyaan filosofis yang menarik! Daripada saya yang mendefinisikan identitas Anda, mari kita eksplorasi pertanyaan ini bersama. Dari perspektif apa Anda ingin mendekati pertanyaan ini: psikologis, sosiologis, filosofis, atau yang lainnya?" 
                        };
                    }
                    
                    // Check if user is asking who the AI is
                    if (lowerMessage.includes('kamu siapa') || lowerMessage.includes('siapa kamu')) {
                        return { 
                            text: "Saya GemGPT, sebuah AI yang dirancang khusus sebagai mitra adu gagasan. Tugas saya adalah membantu Anda menguji dan memperkuat pemikiran melalui analisis ketat, tantangan terhadap asumsi, dan penyediaan perspektif alternatif. Saya menggabungkan kemampuan analitis dari model ChatGPT dan Gemini." 
                        };
                    }
                    
                    // For very short or unclear messages
                    if (message.length < 3) {
                        return {
                            text: "Pesan Anda sangat singkat. Bisakah Anda menguraikan pemikiran atau pertanyaan yang ingin Anda diskusikan dengan lebih detail?"
                        };
                    }
                    
                    // Default analytical response for substantive messages
                    return {
                        text: generateAnalyticalResponse(message)
                    };
                    
                } catch (error) {
                    console.error('AI Response Error:', error);
                    return { error: error.message };
                }
            }
            
            // Generate an appropriate analytical response
            function generateAnalyticalResponse(message) {
                // Simple questions get direct responses
                if (message.endsWith('?') && message.length < 50) {
                    return "Itu pertanyaan yang bagus. Sebelum langsung menjawab, mari kita uji asumsi di balik pertanyaan tersebut. Apa yang membuat Anda bertanya tentang hal itu, dan adakah konteks khusus yang perlu kita pertimbangkan?";
                }
                
                // Statements get analytical responses
                const responses = [
                    `Anda menyatakan: "${message}". \n\nMari kita uji klaim ini. Asumsi apa yang mendasarinya, dan apakah ada bukti yang mendukung atau menentangnya?`,

                    `Pernyataan menarik. Seorang kritikus mungkin bertanya: apa bukti terkuat yang mendukung "${message}", dan apa bukti terkuat yang menentangnya?`,

                    `Mari kita breakdown pernyataan Anda. Bagian mana dari "${message}" yang merupakan fakta observasi, dan bagian mana yang merupakan interpretasi atau evaluasi?`,

                    `Dari sudut pandang alternatif, pernyataan Anda bisa dilihat berbeda. Misalnya, dalam konteks historis, apakah "${message}" selalu benar?`,

                    `Mari kita eksplorasi implikasi dari pernyataan Anda. Jika "${message}" benar, apa konsekuensinya? Dan jika salah, apa alternatifnya?`
                ];
                
                return responses[Math.floor(Math.random() * responses.length)];
            }
            
            // Initialize the app
            init();
        });
    </script>
</body>
</html>
